<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ClarkSoft HMI Presenter - Photo + Map</title>
    <link rel="stylesheet" href="master_irrigator_presentation_hmi.css?v=1">
</head>
<body data-slide-type="photo_map" data-slide-scope="type" data-theme="quality_irrigation">
    <div id="hmi-bootstrap-warning" style="position: fixed; top: 16px; left: 50%; transform: translateX(-50%); background: #FFF3CD; color: #6B4A35; border: 1px solid #FFECB5; border-radius: 999px; padding: 10px 18px; font-size: 12px; z-index: 10000;">
        Loading layout. If this message stays, hard refresh (Ctrl+F5).
    </div>
    <script>
        (function() {
            try {
                var isWindows = navigator.userAgent.indexOf("Windows") !== -1;
                var isLocalhost = location.hostname === "localhost" || location.hostname === "127.0.0.1";
                if (isWindows && isLocalhost) {
                    var warning = document.getElementById("hmi-bootstrap-warning");
                    if (warning) {
                        warning.textContent = "Windows localhost can be wrong. Use the WSL IP link from the terminal.";
                    }
                }
            } catch (error) {
                return;
            }
        })();
    </script>
    <div class="page">
        <header class="header">
            <div class="header-left">
                <div class="header-logo">
                    <img src="/assets/quality_irrigation_logo.png" alt="Quality Irrigation logo">
                </div>
                <div>
                    <div class="header-title">ClarkSoft HMI Presenter</div>
                    <div class="header-subtitle">Photo + map | Program deck: Colorado Master Irrigator - Republican River Basin</div>
                    <div class="header-subtitle header-subtitle-meta">Quality Irrigation | Valley dealer since 1986</div>
                </div>
            </div>
            <div class="header-right">
                <span class="status-pill">Draft</span>
                <button class="help-button" id="help-button" type="button">Help</button>
                <a class="help-button" href="hmi_data_tools.html">Data tools</a>
            </div>
        </header>

        <nav class="menu-bar" aria-label="Presentation menu">
            <details class="menu" name="hmi-menu">
                <summary>File</summary>
                <div class="menu-panel" role="group" aria-label="File">
                    <button class="menu-item" type="button" data-menu-action="file-open">Open JSON...</button>
                    <button class="menu-item" type="button" data-menu-action="file-select">Select deck from catalog</button>
                    <button class="menu-item" type="button" data-menu-action="file-reload">Reload current deck</button>
                    <button class="menu-item" type="button" data-menu-action="file-close">Close deck</button>
                    <button class="menu-item" type="button" data-menu-action="file-download">Download current deck</button>
                </div>
            </details>
            <details class="menu" name="hmi-menu">
                <summary>Edit</summary>
                <div class="menu-panel" role="group" aria-label="Edit">
                    <button class="menu-item" type="button" data-menu-action="edit-load">Load current deck into editor</button>
                    <button class="menu-item" type="button" data-menu-action="edit-apply">Apply editor</button>
                    <button class="menu-item" type="button" data-menu-action="edit-clear">Clear editor</button>
                </div>
            </details>
            <details class="menu" name="hmi-menu">
                <summary>View</summary>
                <div class="menu-panel" role="group" aria-label="View">
                    <button class="menu-item" type="button" data-menu-action="view-toggle-list">Toggle slide list</button>
                    <button class="menu-item" type="button" data-menu-action="view-toggle-side">Toggle side panel</button>
                    <button class="menu-item" type="button" data-menu-action="view-toggle-agenda">Toggle agenda</button>
                    <button class="menu-item" type="button" data-menu-action="view-toggle-notes">Toggle speaker notes</button>
                    <button class="menu-item" type="button" data-menu-action="view-toggle-motion" data-motion-toggle>Reduce motion: Off</button>
                    <button class="menu-item" type="button" data-menu-action="view-theme-light">Theme: Light</button>
                    <button class="menu-item" type="button" data-menu-action="view-theme-dark">Theme: Dark</button>
                    <button class="menu-item" type="button" data-menu-action="view-theme-blues_green">Theme: Blues/Green</button>
                    <button class="menu-item" type="button" data-menu-action="view-theme-quality_irrigation">Theme: Quality Irrigation</button>
                    <button class="menu-item" type="button" data-menu-action="view-theme-futuristic">Theme: Futuristic</button>
                    <button class="menu-item" type="button" data-menu-action="view-theme-soil_field">Theme: Soil/Field</button>
                    <button class="menu-item" type="button" data-menu-action="view-theme-night_ops">Theme: Night Ops</button>
                    <button class="menu-item" type="button" data-menu-action="view-theme-high_contrast">Theme: High Contrast</button>
                    <button class="menu-item" type="button" data-menu-action="view-reset">Reset layout</button>
                </div>
            </details>
            <details class="menu" name="hmi-menu">
                <summary>Help</summary>
                <div class="menu-panel" role="group" aria-label="Help">
                    <button class="menu-item" type="button" data-menu-action="help-open">Open help</button>
                    <button class="menu-item" type="button" data-menu-action="help-tools">Open data tools</button>
                </div>
            </details>
        </nav>

        <input class="file-input" id="deck-file-input" type="file" accept=".json,application/json" hidden>

        <main class="main-grid">
            <section class="stage">
                <div class="stage-header">
                    <span>Now showing</span>
                    <span>Slide <span data-slide-index>1</span> of <span data-slide-count>0</span></span>
                </div>
                <h2 class="layout-title" data-slide-title>Photo + Map</h2>
                <div class="slide-focus-tag" data-slide-focus hidden></div>
                <div class="layout-grid">
                    <div>
                        <div class="slide-preview-media photo-media" data-slide-media hidden></div>
                        <div class="photo-caption" data-photo-caption>Add approved photos or maps.</div>
                    </div>
                    <div>
                        <div class="panel-title">Key takeaways</div>
                        <div class="callout-list" data-callout-list>
                            <div class="callout-item">Key takeaway placeholder</div>
                        </div>
                    </div>
                </div>
                <div class="stage-footer">
                    <button class="control-button" type="button" data-action="prev">Previous</button>
                    <button class="control-button primary" type="button" data-action="next">Next</button>
                    <button class="control-button ghost" type="button" data-action="fullscreen">Enter fullscreen</button>
                    <button class="control-button ghost" type="button" data-action="fullscreen-open">Second screen view</button>
                    <button class="control-button ghost" type="button">Blackout</button>
                </div>
            </section>

            <aside class="side-panel" id="side-panel">
                <div class="panel-card">
                    <div class="panel-title">Next slide</div>
                    <div class="mini-slide" data-next-slide>Contact + Q&amp;A</div>
                </div>

                <details class="panel-card" id="agenda-panel" open>
                    <summary class="panel-title">Presenter notes</summary>
                    <ul class="panel-list">
                        <li>Explain the photo or map context</li>
                        <li>Highlight one key observation</li>
                        <li>Pause for questions</li>
                    </ul>
                </details>

                <div class="panel-card">
                    <div class="panel-title">Live cues</div>
                    <p class="panel-text" data-live-elapsed>Elapsed: 00:00</p>
                    <p class="panel-text" data-live-slide>Slide: 00:00</p>
                    <p class="panel-text" data-live-target>Target: --</p>
                    <p class="panel-text" data-live-clock>Clock: --:--</p>
                    <p class="panel-text" data-live-pace>Pace: not set</p>
                    <p class="panel-text" data-live-audience>Audience: not set</p>
                    <p class="panel-text" data-live-focus hidden></p>
                    <p class="panel-text" data-live-plan hidden></p>
                    <p class="panel-text" data-live-success hidden></p>
                    <div class="live-controls">
                        <button class="live-toggle" type="button" data-live-toggle>Pause timer</button>
                        <span class="panel-text" data-live-toggle-status>Timer running</span>
                    </div>
                </div>

                <div class="panel-card">
                    <div class="panel-title">Run ID (for logging)</div>
                    <div class="run-id-field">
                        <label class="run-id-label" for="presentation-run-id">Presentation run ID</label>
                        <input class="run-id-input" id="presentation-run-id" type="number" min="1" placeholder="Enter run ID">
                    </div>
                </div>
                <div class="panel-card panel-card-credits">
                    <div class="panel-title">Branding + credits</div>
                    <ul class="panel-list">
                        <li><strong>Design:</strong> ClarkSoft Agentic Development Teams.</li>
                        <li><strong>Licensed owner:</strong> Quality Irrigation.</li>
                        <li><strong>Program deck:</strong> Colorado Master Irrigator - Republican River Basin.</li>
                        <li><strong>Program status:</strong> Benefactor only; not affiliated with ClarkSoft.</li>
                        <li><strong>Sponsor + presenter:</strong> Quality Irrigation.</li>
                        <li><strong>Ownership:</strong> ClarkSoft owns all IP and developed products from this workspace.</li>
                        <li><strong>Purpose:</strong> Support high-quality presentations for rural grower communities in the Republican River Basin.</li>
                    </ul>
                </div>
            </aside>
        </main>

        <section class="status-bar">
            <div class="status-item">
                <strong>Segment</strong>
                Photo + map
            </div>
            <div class="status-item">
                <strong>Next action</strong>
                Confirm image permissions
            </div>
            <div class="status-item">
                <strong>Export</strong>
                Use the python-pptx script for PPTX output
            </div>
        </section>
    </div>

    <dialog class="help-dialog" id="help-dialog">
        <div class="help-title">Presenter help</div>
        <p class="help-text">
            Use approved images only. Keep captions short and accurate.
        </p>
        <div class="help-subtitle">Local server steps</div>
        <ol class="help-list">
            <li>Open WSL and go to: /mnt/g/ClarkSoft/projects/master_irrigator</li>
            <li>Run: bash /mnt/g/ClarkSoft/projects/master_irrigator/scripts/start_hmi_dev.sh</li>
            <li>Open: http://localhost:52101/hmi/master_irrigator_presentation_hmi_photo_map.html</li>
            <li>Keep the WSL window open while you work.</li>
        </ol>
        <p class="help-text">
            Slides load from /api/slides. If the page shows placeholders, refresh after
            your local server is running.
        </p>
        <div class="help-subtitle">Branding + credits</div>
        <p class="help-text">Design: ClarkSoft Agentic Development Teams.</p>
        <p class="help-text">Licensed owner: Quality Irrigation.</p>
        <p class="help-text">Program deck: Colorado Master Irrigator - Republican River Basin.</p>
        <p class="help-text">Program status: Benefactor only; not affiliated with ClarkSoft.</p>
        <p class="help-text">Sponsor + presenter: Quality Irrigation.</p>
        <p class="help-text">Ownership: ClarkSoft owns all IP and developed products from this workspace.</p>
        <p class="help-text">
            Purpose: Support high-quality presentations for rural grower communities in the Republican
            River Basin.
        </p>
        <button class="help-close" id="help-close" type="button">Close</button>
    </dialog>

    <script src="master_irrigator_presentation_hmi.js?v=1"></script>
</body>
</html>
